% !TeX document-id = {ca5670f8-72da-4ebb-a93c-3dafd3d2591c}
% !TeX TXS-program:compile = txs:///pdflatex/[--shell-escape]

\include{preamble}

\begin{document}
\vspace{2mm}
\include{title}
\vspace{2mm}

\section{\label{sec:intro}Introduction}

\justifying
A cursory consideration of the technology we are using to define and deploy network infrastructure
reveals a declarative use of graphing as a descriptive language and in a definitive manner. Given this inherent
use of graphs, and a seemingly meteoric rise in the availability of Artificial Intelligence research and tooling, it feels
like a logical next step to transform these designs into a computationally suitable format. The use of Python, open 
source modules, and the proliferation of scholarly papers and tutorials is a powerful combination indeed. As the common
refrain goes, gathering and making data suitable for analysis may be the largest challenge facing the would-be data
scientist.
\vspace{2mm}

\justifying
With these ideas in mind, this paper describes attempts to realize improvements in security and efficiency related to 
automated deployment of network infrastructure. That is to say, capturing attempts to understand what's possible and find
the edges of the problem space while learning new things is the true goal. Usable, useful or even interesting results are
a happy accident
\vspace{2mm}

\justifying
Where possible, code samples and screenshots of resultant execution are provided in an attempt to make the material
accessible to a greater number of readers. Studying and working in what is considered a sub-field of artificial
intelligence reveals a limited number of folks engaging in these methodologies.
\vspace{2mm}

\section{\label{sec:primer}A Very Brief Primer on Graphing and AI}

\justifying
While an in depth explanation of graph theory is beyond the scope of this paper, some background
will be provided here to make the paper accessible to a wider audience. A collection of related references
will be included at the end of this paper for those who may be interested.

\subsection{\label{sec:Graph}About Graphs}

\justifying
Use of the term graph in this paper simply means a representation of information in a way that describes a group of 
things, which we will refer to as ``nodes''. A relationship between nodes is called an ``edge''. Graphs have many 
properties, most relevant of which to us include whether a graph has directionality, As with many things in computer
science, we are affected by problems of scale. It often makes sense to constrain our scope to a given sub-graph or ``neighborhood''.

\subsection{\label{sec:DL}About Deep Learning with Graph Neural Networks}

\justifying
The first item of note is Consider figure \ref{aimldl}.
\vspace{2mm}

\begin{figure}[H]
	\includegraphics[width=12cm]{rodrigo1-768x332.png}
	\caption{From \href{https://www.ibm.com/blogs/systems/ai-machine-learning-and-deep-learning-whats-the-difference/}{AI, machine learning and deep learning: Whatâ€™s the difference?} by Rodrigo Ceron.}
	\label{aimldl}
\end{figure}


\section{\label{sec:collection}Gathering Data}

\justifying
Once a Terraform code base has been initialized, the user has the option to generate a directed graph of the infrastructure. Consider the following declaration of a Cloud Function for Google Cloud.

\begin{mybox}{\thetcbcounter: Terraform Declaration Example}
    \lstinputlisting{code/main.tf}
\end{mybox}

\justifying
\href{https://graphviz.org/}{Graphviz is open source graph visualization software}. Graph visualization is a way of representing
structural information as diagrams of abstract graphs and networks. DOT is a language used to describe graphs. Conversion of
Terraform HCL to a directed graph representation is trivial thanks to Graphviz and Dot.

\justifying
\begin{figure}[H]
	\includegraphics[width=12cm]{graph.png}
	\caption{DOT output from Terraform Files as a digraph}
	\label{pygraph}
\end{figure}

\justifying
Once our Terraform files have been output as a directed graph, we need to bring it in to Python so we can
perform operations on it. To run Terraform commands in an automated fashion, \href{https://pypi.org/project/python-terraform/}{the python-terraform module}
is used.

\justifying
Directed graphs are ingested into Python as an object using the networkx module. Now we are ready to
perform operations on the digraph, displayed in figure \ref{digraph}.

\justifying
\begin{figure}[H]
    \includegraphics[width=12cm]{graph3.png}
    \caption{Directed graph as ingested by Networx}
    \label{digraph}
\end{figure}

\justifying
Note that new numerical labels are displayed in place of the original labels. These original labels are
stored in the node objects in case we need them later. The root node of the adjacency matrix is labeled
as the 0th element in the graph. Also of note is that the graphs displayed in figure \ref{pygraph} and figure \ref{digraph} can be described as \href{https://en.wikipedia.org/wiki/Graph\_isomorphism}{isomorphic}.

\subsection{\label{sec:adjacency}The Adjacency Matrix}

The adjacency matrix is a mathematical representation of our graph. The nodes are represented in a
columnar format known as a matrix. Continuing with our previous example, the representation of our

\subsection{\label{sec:embedding}Node Embedding}

Assigning weights and features to the edges of the graph.




\clearpage
\begin{versionhistory}
	\vhEntry{v0.1}{Nov. 20th, 2021}{Franklin Diaz}{Initial Draft}
\end{versionhistory}
\nocite{*}
\bibliographystyle{plain}
\bibliography{mybib.bib}

\end{document}
